<% render = Option.render_options[@question.kind.to_sym] %>
<% cols = @question.kind.in?(%w(pick_one pick_many)) ? (@question.survey? ? 12 : 9) : 12/render[:cols] %>

<div class="row">
  <% if render[:option] %>
    <%= content_tag :div, class: css_columns(cols) do %>
      <% 
        label = content_tag(:span, t("activerecord.labels.#{@question.kind}_question_#{render[:option][:name]}"))
        unless render[:count] == 1 
          label << ' '
          label << f.hidden_field(:_destroy)
          label << link(:option, :destroy, '#', class: "remove_fields #{css_button(:danger, :xs)}", data: {opr: 'remove'})
        end 

        label = label.html_safe
      %>

      <% placeholder = t("activerecord.placeholders.#{@question.kind}_question_#{render[:option][:name]}") %>
      <% if render[:option][:lines] > 1 %>
        <%= form_text_area f, :option, :placeholder => placeholder, :label => label, rows: render[:option][:lines] %>
      <% else %>
        <% if @question.survey? %>
           <%= form_hidden f, :option, value: "*" %>
        <% else %>
          <%= form_text f, :option, :placeholder => placeholder, :label => label %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <% if render[:answer_options] %>
    <%= content_tag :div, class: css_columns(12 - cols) do %>
      <% if @question.kind == 'pick_one' || @question.kind == 'pick_many' %>
        <% if @question.survey? %>
           <%= form_hidden f, :answer_options, value: "0" %>
        <% else %>
          <br/>
          <%= form_checkbox f, :answer_options, 
                label: t("activerecord.labels.#{@question.kind}_question_#{render[:answer_options][:name]}") %>
        <% end %>
      <% else %>
        <% label = content_tag(:span, t("activerecord.labels.#{@question.kind}_question_#{render[:answer_options][:name]}")) %>
        <% placeholder = t("activerecord.placeholders.#{@question.kind}_question_#{render[:answer_options][:name]}") %>
        <% if render[:answer_options][:lines] > 1 %>
          <%= form_text_area f, :answer_options, :placeholder => placeholder, :label => label, rows: render[:answer_options][:lines] %>
        <% else %>
          <%= form_text f, :answer_options, :placeholder => placeholder, :label => label %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
</div>